<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<room>
  <caption></caption>
  <width>4096</width>
  <height>3072</height>
  <vsnap>32</vsnap>
  <hsnap>32</hsnap>
  <isometric>0</isometric>
  <speed>60</speed>
  <persistent>0</persistent>
  <colour>12632256</colour>
  <showcolour>-1</showcolour>
  <code>//scr_map_ini(false)//true pour utiliser lumiere, false pour non



scr_showNotification ("Joined game world")

    var roomLoaded= 1;
    // create our player randomly in the room
  if (!instance_exists(obj_server))//we are client
{    
    instance_create(random(room_width -60) + 30, random(room_height - 60) + 30, obj_localPlayer);
    instance_create (x, y, obj_gui_client);     
    
    
    //tell the server we're joining a game
    buffer_seek(global.bufferNetwork, buffer_seek_start, 0);
    buffer_write (global.bufferNetwork, buffer_u8, 6);
    buffer_write (global.bufferNetwork, buffer_string, global.playerPseudo);
    buffer_write (global.bufferNetwork, buffer_u32, global.playerId);
    buffer_write (global.bufferNetwork, buffer_u8, roomLoaded);
    network_send_packet (obj_client.socket, global.bufferNetwork, buffer_tell(global.bufferNetwork))
       
    with (obj_localNpc1)
    {
    instance_destroy ();
    }
    
}
    else //we are server
{
    instance_create(random(room_width -60) + 30, random(room_height - 60) + 30, obj_localPlayer);
    instance_create (x, y, obj_gui_server);  
}
//cr√©ation de l'objet engine si il n'existe pas.
/*if (!instance_exists(obj_engine))
{
    instance_create(x, y, obj_engine);
}*/

if (!instance_exists (obj_chatTyping))
{
    instance_create (x, y, obj_chatTyping);
}</code>
  <enableViews>-1</enableViews>
  <clearViewBackground>-1</clearViewBackground>
  <clearDisplayBuffer>-1</clearDisplayBuffer>
  <makerSettings>
    <isSet>-1</isSet>
    <w>1024</w>
    <h>749</h>
    <showGrid>-1</showGrid>
    <showObjects>-1</showObjects>
    <showTiles>-1</showTiles>
    <showBackgrounds>-1</showBackgrounds>
    <showForegrounds>-1</showForegrounds>
    <showViews>0</showViews>
    <deleteUnderlyingObj>0</deleteUnderlyingObj>
    <deleteUnderlyingTiles>-1</deleteUnderlyingTiles>
    <page>0</page>
    <xoffset>0</xoffset>
    <yoffset>0</yoffset>
  </makerSettings>
  <backgrounds>
    <background visible="-1" foreground="0" name="bck_01" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
    <background visible="0" foreground="0" name="" x="0" y="0" htiled="-1" vtiled="-1" hspeed="0" vspeed="0" stretch="0"/>
  </backgrounds>
  <views>
    <view visible="-1" objName="obj_localPlayer_tracker" xview="0" yview="0" wview="2048" hview="1536" xport="0" yport="0" wport="2048" hport="1536" hborder="1024" vborder="768" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="2048" hview="1536" xport="0" yport="0" wport="2048" hport="1536" hborder="1024" vborder="768" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="640" hview="480" xport="0" yport="0" wport="640" hport="480" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="640" hview="480" xport="0" yport="0" wport="640" hport="480" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="640" hview="480" xport="0" yport="0" wport="640" hport="480" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="640" hview="480" xport="0" yport="0" wport="640" hport="480" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="640" hview="480" xport="0" yport="0" wport="640" hport="480" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
    <view visible="0" objName="&lt;undefined&gt;" xview="0" yview="0" wview="640" hview="480" xport="0" yport="0" wport="640" hport="480" hborder="32" vborder="32" hspeed="-1" vspeed="-1"/>
  </views>
  <instances>
    <instance objName="obj_door" x="288" y="160" name="inst_8B4AEFBC" locked="0" code="doorId = 1;&#xA;" scaleX="1" scaleY="1" colour="4294967295" rotation="0"/>
    <instance objName="obj_door" x="320" y="640" name="inst_B0528E28" locked="0" code="doorId = 2" scaleX="1" scaleY="1" colour="4294967295" rotation="0"/>
    <instance objName="obj_button" x="768" y="192" name="inst_61AF97E8" locked="0" code="buttonId = 1;" scaleX="1" scaleY="1" colour="4294967295" rotation="0"/>
    <instance objName="obj_button" x="800" y="640" name="inst_BBE69E75" locked="0" code="buttonId=2;" scaleX="1" scaleY="1" colour="4294967295" rotation="0"/>
  </instances>
  <tiles>
    <tile bgName="bck_02" x="0" y="0" w="150" h="150" xo="0" yo="0" id="10000001" name="tile_CFBCC465" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="150" y="0" w="150" h="150" xo="0" yo="0" id="10000011" name="tile_66B31174" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="300" y="0" w="150" h="150" xo="0" yo="0" id="10000012" name="tile_3A30FA01" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="450" y="0" w="150" h="150" xo="0" yo="0" id="10000013" name="tile_BC83F279" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="600" y="0" w="150" h="150" xo="0" yo="0" id="10000014" name="tile_E5644F29" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="750" y="0" w="150" h="150" xo="0" yo="0" id="10000017" name="tile_3FCC0421" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="0" y="620" w="150" h="150" xo="0" yo="0" id="10000020" name="tile_706AD244" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="150" y="620" w="150" h="150" xo="0" yo="0" id="10000021" name="tile_C8B20CA9" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="300" y="620" w="150" h="150" xo="0" yo="0" id="10000022" name="tile_FADD7836" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="450" y="620" w="150" h="150" xo="0" yo="0" id="10000023" name="tile_C002EA01" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="600" y="620" w="150" h="150" xo="0" yo="0" id="10000024" name="tile_AF965D7A" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="750" y="620" w="150" h="150" xo="0" yo="0" id="10000025" name="tile_6C54C007" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="880" y="620" w="150" h="150" xo="0" yo="0" id="10000026" name="tile_3BB23EC0" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="880" y="470" w="150" h="150" xo="0" yo="0" id="10000027" name="tile_C2745D31" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="880" y="320" w="150" h="150" xo="0" yo="0" id="10000028" name="tile_FBFCEFD5" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="880" y="0" w="150" h="150" xo="0" yo="0" id="10000031" name="tile_436D7C95" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="880" y="150" w="150" h="150" xo="0" yo="0" id="10000032" name="tile_A455CD54" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="880" y="250" w="150" h="150" xo="0" yo="0" id="10000033" name="tile_11AF5DED" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="0" y="470" w="150" h="150" xo="0" yo="0" id="10000034" name="tile_12EE0B03" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="0" y="150" w="150" h="150" xo="0" yo="0" id="10000035" name="tile_48095024" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="0" y="400" w="150" h="150" xo="0" yo="0" id="10000036" name="tile_29111E28" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
    <tile bgName="bck_02" x="0" y="300" w="150" h="150" xo="0" yo="0" id="10000037" name="tile_E04BD1B1" depth="1000000" locked="0" colour="4294967295" scaleX="1" scaleY="1"/>
  </tiles>
  <PhysicsWorld>0</PhysicsWorld>
  <PhysicsWorldTop>0</PhysicsWorldTop>
  <PhysicsWorldLeft>0</PhysicsWorldLeft>
  <PhysicsWorldRight>640</PhysicsWorldRight>
  <PhysicsWorldBottom>480</PhysicsWorldBottom>
  <PhysicsWorldGravityX>2</PhysicsWorldGravityX>
  <PhysicsWorldGravityY>2</PhysicsWorldGravityY>
  <PhysicsWorldPixToMeters>0.100000001490116</PhysicsWorldPixToMeters>
</room>
